<!DOCTYPE html>
<html>

<head>
    <title>ccynthmata: example</title>
    <script src="./ccynthmata.js" type="text/javascript"></script>
    <script>
        function proteusValueConverter(value, element){
            // Values can be signed 14-bit number. If negative we need to take the twos-complement
            if(value < 0){
                value += 16384;
            }
            console.log(value);
            // little endian byte order
            return [value % 128, Math.floor(value / 128)]
        }

        var cynth;
        let init = ()=>{
            cynth = new Ccynthmata({
                sysexManufacturer: 0x18,
                sysexModel: 0x0f,
                sysexCommonPrefix: [0x01, 0x55, 0x01, 0x02],
                sysexValueConverter: proteusValueConverter
            }); 
            cynth.init();
        }
    </script>
</head>
<body onload="init()">
    <div class="controlitemgroup" id="midiSetup">
        <h3>Midi Device Setup</h3>
        
    </div>
    <div>
        <label for="lcdViewAngle">LCD View Angle</label>
        <input 
            class="midisysexparam" id="lcdViewAngle"  
            data-sysexprefix="01 00"
            max="8" min="-7" type="range" />
    </div>
</body>